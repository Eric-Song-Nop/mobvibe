* Mobvibe

Mobvibe is a distributed ACP (Agent Client Protocol) WebUI for local agent workflows. It connects to ACP-compatible CLIs (opencode, gemini-cli, claude-code), manages multi-session chat, and delivers a fast, touch-friendly experience across desktop and mobile.

** Key Features

- Multi-session chat with real-time streaming updates
- Permission request handling with inline decision cards
- Slash command picker (=/=) and file resource picker (=@=)
- Session-scoped file explorer with code preview and Tree-sitter outline
- Desktop and mobile apps via Tauri v2
- Light/dark/system themes, i18n (Chinese/English)

** Architecture

#+begin_src
┌─────────────────────────┐     Socket.io      ┌──────────────┐     Socket.io     ┌───────────────┐
│        webui            │◄──────────────────►│   gateway    │◄─────────────────►│  mobvibe-cli  │
│  (React + Tauri v2)     │    /webui ns       │  (Express)   │    /cli ns        │  (Node CLI)   │
│  Web / Desktop / Mobile │                    └──────────────┘                   └───────┬───────┘
└─────────────────────────┘                           │                                   │
                                                 REST API                           stdin/stdout
                                                 (:3005)                                  │
                                                                                  ┌───────▼───────┐
                                                                                  │   ACP CLI     │
                                                                                  │ (claude-code) │
                                                                                  └───────────────┘
#+end_src

** Prerequisites

- Node.js 18+
- pnpm (package manager)
- ACP CLI tools: =opencode=, =gemini-cli=, or =claude-code=

** Quick Start

#+begin_src bash
# Clone repository
git clone https://github.com/anthropics/mobvibe.git
cd mobvibe

# Install dependencies
pnpm install

# Start all services
pnpm dev
#+end_src

Services will be available at:
- Gateway: http://localhost:3005
- WebUI: http://localhost:5173

** CLI Usage

*** Installation

#+begin_src bash
# Run from repository
cd apps/mobvibe-cli
pnpm build
./bin/mobvibe.mjs start
#+end_src

*** Commands

| Command                          | Description                |
|----------------------------------+----------------------------|
| =mobvibe start [--gateway <url>]= | Start daemon               |
| =mobvibe stop=                    | Stop daemon                |
| =mobvibe status=                  | Show daemon status         |
| =mobvibe logs [-f] [-n <lines>]=  | View daemon logs           |
| =mobvibe login [--webui <url>]=   | Authenticate with gateway  |
| =mobvibe logout=                  | Remove credentials         |
| =mobvibe auth-status=             | Show authentication status |

*** Configuration

| Variable                | Description                              |
|-------------------------+------------------------------------------|
| =MOBVIBE_GATEWAY_URL=    | Gateway URL (default: http://localhost:3005) |
| =ANTHROPIC_AUTH_TOKEN=   | Required for Claude Code backend         |
| =MOBVIBE_ACP_BACKENDS=   | Comma-separated backends to enable       |

** WebUI Usage

*** Web Mode

#+begin_src bash
cd apps/webui
pnpm dev
#+end_src

Access at http://localhost:5173

*** Desktop Mode (Tauri)

#+begin_src bash
cd apps/webui
pnpm dev:tauri    # Development
pnpm build:tauri  # Production build
#+end_src

Outputs: =.msi=, =.exe= (Windows), =.app=, =.dmg= (macOS), =.deb=, =.AppImage= (Linux)

*** Mobile Mode (Tauri)

#+begin_src bash
# Android (requires Android SDK)
cd apps/webui
pnpm android:init   # First time only
pnpm android:dev    # Development

# iOS (macOS only, requires Xcode)
pnpm ios:init       # First time only
pnpm ios:dev        # Development
#+end_src

*** Environment

| Variable           | Description                                |
|--------------------+--------------------------------------------|
| =VITE_GATEWAY_URL=  | Gateway URL (auto-detected if not set)     |

** Development

*** Scripts

| Command       | Description            |
|---------------+------------------------|
| =pnpm dev=     | Start all packages     |
| =pnpm build=   | Build all packages     |
| =pnpm lint=    | Lint with Biome        |
| =pnpm format=  | Format with Biome      |
| =pnpm test=    | Run tests with Vitest  |

*** Code Style

- Formatter: Biome (tab indentation, double quotes)
- TypeScript: Strict mode

** Deployment

See [[file:docs/deploy-railway-netlify.md][docs/deploy-railway-netlify.md]] for Railway + Netlify deployment guide.

** Documentation

- ACP Protocol: https://agentclientprotocol.com/
- ACP TypeScript SDK: https://agentclientprotocol.github.io/typescript-sdk/
