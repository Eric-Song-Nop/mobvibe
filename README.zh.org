* Mobvibe

/Chat with your local AI coding agents from any device, from anywhere. No network config, just one command./

/在任何设备上与本地 AI 编程 Agent 对话。无需设置，一行命令。/

Mobvibe 是一个分布式 ACP（Agent Client Protocol）WebUI，用于本地 Agent 工作流。它连接 ACP 兼容的 CLI（opencode、gemini-cli、claude-code），管理多会话对话，并在桌面和移动端提供快速、触控友好的体验。

** 主要功能

- 多会话聊天，支持实时流式更新
- 端到端加密（E2EE）— 会话内容在 CLI 端加密、WebUI 端解密，Gateway 无法读取内容
- 权限请求处理，内嵌决策卡片
- Slash 命令选择器（=/=）和文件资源选择器（=@=）
- 会话级文件浏览器，支持代码预览和 Tree-sitter 大纲
- 通过 Tauri v2 支持桌面和移动应用
- 浅色/深色/跟随系统主题，中英双语

** 快速开始

#+begin_src bash
npx @mobvibe/cli start
#+end_src

然后在浏览器中打开 [[https://app.mobvibe.net][app.mobvibe.net]]。首次运行时，Mobvibe 会扫描系统中已安装的 ACP Agent，并让你选择要启用的 Agent。

** CLI 命令

| 命令                              | 说明                                 |
|-----------------------------------+--------------------------------------|
| =mobvibe login=                    | 认证并生成 E2EE 主密钥              |
| =mobvibe logout=                   | 清除认证凭据                         |
| =mobvibe auth-status=              | 查看认证状态                         |
| =mobvibe start [--gateway <url>]=  | 启动守护进程                         |
| =mobvibe stop=                     | 停止守护进程                         |
| =mobvibe status=                   | 查看守护进程状态                     |
| =mobvibe logs [-f] [-n <lines>]=   | 查看守护进程日志                     |
| =mobvibe e2ee show=                | 显示主密钥（用于 WebUI 配对）       |
| =mobvibe e2ee status=              | 查看 E2EE 密钥状态                  |

** 配置

| 变量                        | 说明                                                 |
|-----------------------------+------------------------------------------------------|
| =MOBVIBE_GATEWAY_URL=        | Gateway URL（默认：=https://api.mobvibe.net=）        |
| =MOBVIBE_HOME=               | CLI 家目录（默认：=~/.mobvibe=）                      |
| =MOBVIBE_ENABLED_AGENTS=     | 逗号分隔的 Agent ID 列表（覆盖配置文件）             |

高级配置存储在 =~/.mobvibe/.config.json=：

| 字段              | 说明                                             |
|-------------------+--------------------------------------------------|
| =enabledAgents=    | 已启用的 Agent ID 数组（如 =["claude-code"]=）    |
| =worktreeBaseDir=  | Git worktree 根目录（默认：=~/.mobvibe/worktrees=）|

** ACP Agents

Mobvibe 通过 [[https://agentclientprotocol.com][ACP Registry]] 自动检测已安装的 ACP Agent。首次运行时，会扫描系统并显示检测到的 Agent 列表供你选择。

每个 Agent 的检测优先级：
1. *Binary* — PATH 中找到原生二进制（最快）
2. *npx* — Node.js 包，通过 =npx= 按需下载
3. *uvx* — Python 包，通过 =uvx= 按需下载

常用 Agent 安装方式：

- *OpenCode* — =curl -fsSL https://opencode.ai/install | bash= ([[https://github.com/sst/opencode][仓库]])
- *Claude Code* — =npm install -g @anthropic-ai/claude-code=（需要 =ANTHROPIC_API_KEY=）([[https://docs.anthropic.com/en/docs/claude-code/overview][文档]])
- *Gemini CLI* — =npm install -g @anthropic-ai/gemini-cli= ([[https://github.com/google-gemini/gemini-cli][仓库]])
- *Codex CLI* — =npm install -g @openai/codex=（需要 =OPENAI_API_KEY=）([[https://developers.openai.com/codex/cli][文档]])
- *Goose* — 参见 [[https://block.github.io/goose/docs/guides/acp-clients][安装指南]]
- *Aider* — =pip install aider-chat= ([[https://aider.chat][文档]])

安装新 Agent 后重启 Mobvibe，即可自动检测。如需更改启用的 Agent，设置 =MOBVIBE_ENABLED_AGENTS= 环境变量或编辑 =~/.mobvibe/.config.json=。

** 支持的 ACP Agents

文档索引：https://agentclientprotocol.com/llms.txt

以下 Agent 可用于 ACP Client：

- [[https://phil65.github.io/agentpool/advanced/acp-integration/][AgentPool]]
- [[https://docs.augmentcode.com/cli/acp][Augment Code]]
- [[https://docs.blackbox.ai/features/blackbox-cli/introduction][Blackbox AI]]
- [[https://docs.anthropic.com/en/docs/claude-code/overview][Claude Code]]（通过 [[https://github.com/zed-industries/claude-code-acp][Zed 适配器]]）
- [[https://developers.openai.com/codex/cli][Codex CLI]]（通过 [[https://github.com/zed-industries/codex-acp][Zed 适配器]]）
- [[https://github.com/stippi/code-assistant?tab=readme-ov-file#configuration][Code Assistant]]
- [[https://github.com/docker/cagent][Docker's cagent]]
- [[https://fast-agent.ai/acp][fast-agent]]
- [[https://github.com/google-gemini/gemini-cli][Gemini CLI]]
- [[https://block.github.io/goose/docs/guides/acp-clients][Goose]]
- [[https://www.jetbrains.com/junie/][JetBrains Junie（即将推出）]]
- [[https://github.com/MoonshotAI/kimi-cli][Kimi CLI]]
- [[https://github.com/femto/minion-code][Minion Code]]
- [[https://github.com/mistralai/mistral-vibe][Mistral Vibe]]
- [[https://github.com/sst/opencode][OpenCode]]
- [[https://docs.openhands.dev/openhands/usage/run-openhands/acp][OpenHands]]
- [[https://github.com/badlogic/pi-mono/tree/main/packages/coding-agent][Pi]]（通过 [[https://github.com/svkozak/pi-acp][pi-acp 适配器]]）
- [[https://docs.qoder.com/cli/acp][Qoder CLI]]
- [[https://github.com/QwenLM/qwen-code][Qwen Code]]
- [[https://github.com/stakpak/agent?tab=readme-ov-file#agent-client-protocol-acp][Stakpak]]
- [[https://github.com/vinhnx/vtcode/blob/main/README.md#zed-ide-integration-agent-client-protocol][VT Code]]

** E2EE 配置

*** 1. 登录（CLI）

#+begin_src bash
mobvibe login
#+end_src

输入邮箱和密码。完成后会生成主密钥并注册设备。主密钥会显示在终端 — 复制它用于第 2 步。

*** 2. 配对 WebUI

打开 WebUI → 设置 → 端到端加密 → 粘贴主密钥 → 点击「配对」。

之后可用 =mobvibe e2ee show= 再次查看主密钥。

*** 3. 启动守护进程

#+begin_src bash
mobvibe start
#+end_src

所有会话内容现已端到端加密。Gateway 只负责路由，无法读取内容。

** 自托管

Mobvibe 支持自托管。基础设施配置定义在仓库根目录的 =render.yaml= 中。详见[[https://github.com/anthropics/mobvibe][源码仓库]]。

** 文档

- ACP 协议：https://agentclientprotocol.com/
- ACP TypeScript SDK：https://agentclientprotocol.github.io/typescript-sdk/
